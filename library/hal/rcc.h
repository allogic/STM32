#ifndef STM32F4_HAL_RCC_H
#define STM32F4_HAL_RCC_H

#define RCC_CR_HSION  (1 << 0)
#define RCC_CR_HSIRDY (1 << 1)
#define RCC_CR_HSEON  (1 << 16)
#define RCC_CR_HSERDY (1 << 17)
#define RCC_CR_HSEBYP (1 << 18)
#define RCC_CR_CSSON  (1 << 19)
#define RCC_CR_PLLON  (1 << 24)
#define RCC_CR_PLLRDY (1 << 25)

#define RCC_PLLCFGR_PLLM0  (1 << 0)
#define RCC_PLLCFGR_PLLM1  (1 << 1)
#define RCC_PLLCFGR_PLLM2  (1 << 2)
#define RCC_PLLCFGR_PLLM3  (1 << 3)
#define RCC_PLLCFGR_PLLM4  (1 << 4)
#define RCC_PLLCFGR_PLLM5  (1 << 5)
#define RCC_PLLCFGR_PLLN0  (1 << 6)
#define RCC_PLLCFGR_PLLN1  (1 << 7)
#define RCC_PLLCFGR_PLLN2  (1 << 8)
#define RCC_PLLCFGR_PLLN3  (1 << 9)
#define RCC_PLLCFGR_PLLN4  (1 << 10)
#define RCC_PLLCFGR_PLLN5  (1 << 11)
#define RCC_PLLCFGR_PLLN6  (1 << 12)
#define RCC_PLLCFGR_PLLN7  (1 << 13)
#define RCC_PLLCFGR_PLLN8  (1 << 14)
#define RCC_PLLCFGR_PLLP0  (1 << 16)
#define RCC_PLLCFGR_PLLP1  (1 << 17)
#define RCC_PLLCFGR_PLLSRC (1 << 22)
#define RCC_PLLCFGR_PLLQ0  (1 << 24)
#define RCC_PLLCFGR_PLLQ1  (1 << 25)
#define RCC_PLLCFGR_PLLQ2  (1 << 26)
#define RCC_PLLCFGR_PLLQ3  (1 << 27)

#define RCC_PLLCFGR_PLLM_MASK (RCC_PLLCFGR_PLLM0 | RCC_PLLCFGR_PLLM1 | RCC_PLLCFGR_PLLM2 | RCC_PLLCFGR_PLLM3 | RCC_PLLCFGR_PLLM4 | RCC_PLLCFGR_PLLM5)
#define RCC_PLLCFGR_PLLM_POS  (0)

#define RCC_PLLCFGR_PLLN_MASK (RCC_PLLCFGR_PLLN0 | RCC_PLLCFGR_PLLN1 | RCC_PLLCFGR_PLLN2 | RCC_PLLCFGR_PLLN3 | RCC_PLLCFGR_PLLN4 | RCC_PLLCFGR_PLLN5 | RCC_PLLCFGR_PLLN6 | RCC_PLLCFGR_PLLN7 | RCC_PLLCFGR_PLLN8)
#define RCC_PLLCFGR_PLLN_POS  (6)

#define RCC_PLLCFGR_PLLP_MASK (RCC_PLLCFGR_PLLP0 | RCC_PLLCFGR_PLLP1)
#define RCC_PLLCFGR_PLLP_POS  (16)

#define RCC_PLLCFGR_PLLQ_MASK (RCC_PLLCFGR_PLLQ0 | RCC_PLLCFGR_PLLQ1 | RCC_PLLCFGR_PLLQ2 | RCC_PLLCFGR_PLLQ3)
#define RCC_PLLCFGR_PLLQ_POS  (24)

#define RCC_CFGR_SW0    (1 << 0)
#define RCC_CFGR_SW1    (1 << 1)
#define RCC_CFGR_SWS0   (1 << 2)
#define RCC_CFGR_SWS1   (1 << 3)
#define RCC_CFGR_HPRE0  (1 << 4)
#define RCC_CFGR_HPRE1  (1 << 5)
#define RCC_CFGR_HPRE2  (1 << 6)
#define RCC_CFGR_HPRE3  (1 << 7)
#define RCC_CFGR_PPRE10 (1 << 10)
#define RCC_CFGR_PPRE11 (1 << 11)
#define RCC_CFGR_PPRE12 (1 << 12)
#define RCC_CFGR_PPRE20 (1 << 13)
#define RCC_CFGR_PPRE21 (1 << 14)
#define RCC_CFGR_PPRE22 (1 << 15)
#define RCC_CFGR_MCO10  (1 << 21)
#define RCC_CFGR_MCO11  (1 << 22)

#define RCC_CFGR_SW_MASK (RCC_CFGR_SW0 | RCC_CFGR_SW1)
#define RCC_CFGR_SW_POS  (0)

#define RCC_CFGR_SWS_MASK (RCC_CFGR_SWS0 | RCC_CFGR_SWS1)
#define RCC_CFGR_SWS_POS  (2)

#define RCC_CFGR_HPRE_MASK (RCC_CFGR_HPRE0 | RCC_CFGR_HPRE1 | RCC_CFGR_HPRE2 | RCC_CFGR_HPRE3)
#define RCC_CFGR_HPRE_POS  (4)

#define RCC_CFGR_PPRE1_MASK (RCC_CFGR_PPRE10 | RCC_CFGR_PPRE11 | RCC_CFGR_PPRE12)
#define RCC_CFGR_PPRE1_POS  (10)

#define RCC_CFGR_PPRE2_MASK (RCC_CFGR_PPRE20 | RCC_CFGR_PPRE21 | RCC_CFGR_PPRE22)
#define RCC_CFGR_PPRE2_POS  (13)

#define RCC_CFGR_SW_HSI (0b00 << RCC_CFGR_SW_POS)
#define RCC_CFGR_SW_HSE (0b01 << RCC_CFGR_SW_POS)
#define RCC_CFGR_SW_PLL (0b10 << RCC_CFGR_SW_POS)

#define RCC_CFGR_SWS_HSI (0b00 << RCC_CFGR_SWS_POS)
#define RCC_CFGR_SWS_HSE (0b01 << RCC_CFGR_SWS_POS)
#define RCC_CFGR_SWS_PLL (0b10 << RCC_CFGR_SWS_POS)

#define RCC_CFGR_HPRE_DIV1   (0b0000 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV2   (0b1000 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV4   (0b1001 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV8   (0b1010 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV16  (0b1011 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV64  (0b1100 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV128 (0b1101 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV256 (0b1110 << RCC_CFGR_HPRE_POS)
#define RCC_CFGR_HPRE_DIV512 (0b1111 << RCC_CFGR_HPRE_POS)

#define RCC_CFGR_PPRE1_DIV1  (0b000 << RCC_CFGR_PPRE1_POS)
#define RCC_CFGR_PPRE1_DIV2  (0b100 << RCC_CFGR_PPRE1_POS)
#define RCC_CFGR_PPRE1_DIV4  (0b101 << RCC_CFGR_PPRE1_POS)
#define RCC_CFGR_PPRE1_DIV8  (0b110 << RCC_CFGR_PPRE1_POS)
#define RCC_CFGR_PPRE1_DIV16 (0b111 << RCC_CFGR_PPRE1_POS)

#define RCC_CFGR_PPRE2_DIV1  (0b000 << RCC_CFGR_PPRE2_POS)
#define RCC_CFGR_PPRE2_DIV2  (0b100 << RCC_CFGR_PPRE2_POS)
#define RCC_CFGR_PPRE2_DIV4  (0b101 << RCC_CFGR_PPRE2_POS)
#define RCC_CFGR_PPRE2_DIV8  (0b110 << RCC_CFGR_PPRE2_POS)
#define RCC_CFGR_PPRE2_DIV16 (0b111 << RCC_CFGR_PPRE2_POS)

#define RCC_AHB1ENR_GPIOAEN (1 << 0)
#define RCC_AHB1ENR_GPIOBEN (1 << 1)
#define RCC_AHB1ENR_GPIOCEN (1 << 2)
#define RCC_AHB1ENR_GPIODEN (1 << 3)
#define RCC_AHB1ENR_GPIOEEN (1 << 4)
#define RCC_AHB1ENR_GPIOFEN (1 << 5)
#define RCC_AHB1ENR_GPIOGEN (1 << 6)
#define RCC_AHB1ENR_GPIOHEN (1 << 7)
#define RCC_AHB1ENR_GPIOIEN (1 << 8)
#define RCC_AHB1ENR_GPIOJEN (1 << 9)
#define RCC_AHB1ENR_GPIOKEN (1 << 10)
#define RCC_APB1ENR_PWREN   (1 << 28)

#define RCC_APB1ENR_SPI2EN   (1 << 14)
#define RCC_APB1ENR_SPI3EN   (1 << 15)
#define RCC_APB1ENR_USART2EN (1 << 17)
#define RCC_APB1ENR_USART3EN (1 << 18)
#define RCC_APB1ENR_USART4EN (1 << 19)
#define RCC_APB1ENR_USART5EN (1 << 20)
#define RCC_APB1ENR_USART7EN (1 << 30)
#define RCC_APB1ENR_USART8EN (1 << 31)

#define RCC_APB2ENR_USART1EN (1 << 4)
#define RCC_APB2ENR_USART6EN (1 << 5)
#define RCC_APB2ENR_SPI1EN   (1 << 12)
#define RCC_APB2ENR_SPI4EN   (1 << 13)
#define RCC_APB2ENR_SPI5EN   (1 << 20)
#define RCC_APB2ENR_SPI6EN   (1 << 21)

#endif
